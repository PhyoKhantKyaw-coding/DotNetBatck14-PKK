@model PieCanvasJsModel
@using Newtonsoft.Json;

<div id="pieChartContainer" style="height: 370px; width: 100%;"></div>

@section scripts {
    <script>
        var chart = new CanvasJS.Chart("pieChartContainer", {
            animationEnabled: true,
            title: {
                text: "Pie Chart Example"
            },
            data: [{
                type: "pie",
                showInLegend: true,
                legendText: "{indexLabel}",
                dataPoints: @Html.Raw(JsonConvert.SerializeObject(Model.Data.Zip(Model.Categories, (value, category) => new { y = value, indexLabel = category })))
            }]
        });
        chart.render();
    </script>
}

